<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container">
  <h5 class="my-3 border-bottom pb-2">글 등록</h5>
  <form method="post" th:object="${articleForm}">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <!--오류메세지-->
    <div class="alert alert-danger" role="alert" th:if="${#fields.hasAnyErrors()}">
      <div th:each="err: ${#fields.allErrors()}" th:text="${err}"/>
    </div>
    <!--입력-->
    <div class="mb-3">
      <label for="title" class="form-label">제목</label>
      <input type="text" th:field="*{title}" class="form-control">
    </div>
    <div class="mb-3">
      <label for="content" class="form-label">내용</label>
      <textarea th:field="*{content}" rows="10" class="form-control"></textarea>
    </div>
    <!-- 카테고리 선택 -->
    <div class="mb-3">
      <label for="category" class="form-label">카테고리</label>
      <select id="category" th:field="*{category}" class="form-select">
        <option value="">선택하세요</option>
        <option th:each="category : ${categories}"
                th:value="${category.id}"
                th:text="${category.majorCategory} + ' - ' + ${category.minorCategory}"
                th:selected="${category.id == articleForm.category}"></option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary my-2">등록하기</button>
  </form>
</div>
</html>